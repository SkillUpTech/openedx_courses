{"start":[0,2683,6994,10290,12250,13920,13953,20350,23655,27220,29170,30990,33820,37745,41350,44350,45985,48130,52570,54910,57045,60385,65230,68765,70900,73390,75005,77920,80383,82320,84220,87778,89035,90835,92230,93685,103675,109035,111150,112785,119470,122785,125394,126900,129750,131250,134980,137545,140295,143475,144975,148485,151390,153150,155805,158070,165758,171245,174550,178535,180340,182365,184180,186525,188350,189400,191640,193675,198070,202460,204655,207480,209340,211090,213495,215206,216310,219100,220270,221560,222970,225550,226960,228535,230610,232420,234640,236290,239170,242485,244660,246790,247930,251260,253075,254365,256730,258290,260320,261550,263170,264760,266830,268900,272050,275200,277755,279876,281215,282900,287317,290375,293020,294805,295810,298435,301410,304140,306210,308095,310225,313240,314860,317245,319810,322660,324565,326965,328960,331715,334595,337120,339895,341560,343640,346025,349255,352090,353440,356780,359626,361420,363370,366220,368260,371075,372190,373690,375330,376630,378138,379900,383110,384370,385930,387790,391380,392760,394450,397465,401725,402730,404890,406390,408775,410350,412105,413290,414915,416830,419020,420370,422680,425373,427325,428620],"end":[2683,6994,10290,12250,13920,13953,20350,23655,27220,29170,30990,33820,37745,41350,44350,45985,48130,52570,54910,57045,60385,65230,68765,70900,73390,75005,77920,80383,82320,84220,87778,89035,90835,92230,93685,103675,109035,111150,112785,119260,122785,125394,126900,129750,131250,134980,137545,140295,143475,144975,148485,151390,153150,155805,158070,165758,171245,174550,178535,180340,182365,184180,186525,188350,189400,191640,193675,198070,202460,204655,207480,209340,211090,213495,215206,216310,219100,220270,221560,222970,225550,226960,228535,230610,232420,234640,236290,239170,242485,244660,246790,247930,251260,253075,254365,256730,258290,260320,261550,263170,264760,266830,268900,272050,275200,277755,279876,281215,282900,287317,290375,293020,294805,295810,298435,301410,304140,306210,308095,310225,313240,314860,317245,319810,322660,324565,326965,328960,331715,334595,337120,339895,341560,343640,346025,349255,352090,353440,356780,359626,361420,363370,366220,368260,371075,372190,373690,375330,376630,378138,379900,383110,384370,385930,387790,391380,392760,394450,397465,401725,402730,404890,406390,408775,410350,412105,413290,414915,416830,419020,420370,422680,425373,427325,428620,431000],"text":[">> It's Andrew. Before Cosmos DB came around,","I was a real big DocumentDB fan.","So now we have the DocumentDB API and Cosmos DB.","So where does that put me?","What is the DocumentDB API and Cosmos DB?","How is it different than what","DocumentDB was itself and what","do I need to know to get started using this?",">> Sure. If you were an existing DocumentDB user,","then you actually feel right at","home with the DocumentDB API.","You can actually think of DocumentDB","as an earlier version of Cosmos DB,","and as the product had evolved over time and it started","to incorporate a lot of","the global distribution features","as well as the multi-model features.","As we introduced multi-model having a name based off of","only one of the many data models","becomes really kind of confusing.","And so, Cosmos DB you can think of it as","V2017 of this journey that we're on.","And to leverage your DocumentDB API,","it's the same API that you were","playing with with our DocumentDB earlier.","Now it's just one of many different APIs.","We basically decoupled the underlying platform","with the API surface itself.","With this API surface,","you can actually think of this in terms","of a client component and a server component.","On the server side,","what we do is we actually implement","different ways of interacting","between the client and server,","including a REST API as well as direct connectivity.","If you think about from a connectivity standpoint,","what we do is we have a distributed system","here where you have","many partitions sets made of replicas in each region.","Different ways of connecting","is if I connect through the REST API,","what we do is we have a front end server","here that has a nice convenient REST API.","So if a request comes in,","it automatically handles the routing.","However, if I use direct connectivity on startup,","what I'll do is it'll ask the gateway, hey,","what is the topology look like?","And then be able to make direct calls","into the underlying replica.","For handling the interaction here,","what we do is we actually","have a number of out-of-the-box SDKs,","including a python SDK,","Java,.net, and no GS.","We do bake in a lot of logic on the client themselves.","So in order to do things like fan-out query and touch","multiple replicas and aggregate those results together,","the SDK will actually take care of a lot of","the heavy lifting for you.","What they do is they can actually interact on","the REST API or their direct connectivity there.","However, if you're let's say a Go developer","or a Ruby developer,","many of our SDKs are actually open sourced,","you can use them as a reference implementation,","and then interact with the REST API for other platforms.","For example Go, Ruby etc.",">> So for let's say I'm a Java,","Python or no Dunnett developer,","and I'm using SDK,","will it intelligently make a decision whether we use","REST API or direct connectivity?","Or is it something I can toggle?","Because it sounds really","interesting that I have the the choice here.",">> So this is an explicit","choice that you will need to make.","When you instantiate the client,","what we do is expose it as a connection policy,","and then the connection policy","you can choose between these.","You might use the Gateway mode or","REST API mode if you","have a very restrictive corporate firewall,","requiring you to only","talk through a certain number of ports,","or really just port 4403 for HTTPS.","However, if you are able to","open up a wider range of ports to support","connecting to a large number of","replicas and do a direct TZP mode,","that also becomes an option for you.","And with that because you're","shaving off this one little network hop,","you can actually shave off about","one millisecond after they request.",">> Oh, pretty cool.",">> Now, that's from a client perspective.","On the server perspective,","DocumentDB API actually gives","you two different interfaces.","One is a quality layer in which","you can write something","that looks very much like a SQL query.","We have our own,","you can think of this as a dialect","DocumentDB version of SQL.","We try to stick to and see as much as we can with it,","just a few different small nuances.","But if you've played with let's say any kind of","relational database previously,","you'll feel right at home.","The learning curve is actually really really low.","On top of just providing a corollary layer using SQL,","we also have a server side programmability there.","Using that you can write user-defined functions,","stored procedures and triggers.","And these are implemented using Javascripts.","We chose Javascripts because for","the DocumentDB API you're going to be","interacting with JSON documents,","and JSON is Javascript's Object Notation.","In fact that's what JSON, JSON stands for.","We found that this was actually","a very natural way","for interacting with the underlying data,","the JSON data, as well as","it's a full blown programming language.","So you can actually get quite sophisticated","in terms of the business logic that you implement.",">> And I was going to say so what type of","business logic could you implement in Javascript.","Could you implement things like triggers?",">> Yeah. So, store procedures and triggers allow you,","this is really the primary means for Cosmos DB to bring","transactions back","into the scope for distributed databases.","A lot of other distributed databases, not Cosmos DB,","what they do is","because they have to distribute across many,","many machines, what they do is they","actually lose the ability","to do transactions over multiple records.","What we allow you to do is,","we allow you to do transactions","within the scope of a partition key.","We decided to bring that back onto","the table, because at the end of the day,","running an application without","transactional support is really quite difficult.","So we'll bring this back in the form","of store procedures and triggers.","And then lastly with the user-defined functions,","you can actually augment our SQL query language.","So if you let's say","want to implement some business logic,","let's say calculating tax of","a price property in a record,","what you can do is you can write","some Javascript and embed that into","the SQL query language and write","your own user-defined functions,","as opposed to leveraging","the existing set of system functions.",">> Oh wow. It sounds like with","this we could do stuff like,","I can write a user-defined function like you said,","to calculate tax and I can write a SQL query","that spits out","my product information and maybe the price,","that I project a new fill with the price with tax.","You're using these features you're using DocumentDB API,","sounds like it supports","a lot of really interesting scenarios."]}