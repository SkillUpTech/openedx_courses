{"start":[0,2080,5035,8050,9460,11710,14785,17740,20905,22090,24970,26790,29920,31420,35995,37570,39890,42010,43930,45850,46870,49170,53660,55630,59080,60935,63370,66680,72430,75440,77870,81320,85820,87520,91410,92750,94835,97340,101240,103100,107050,112275,114320,116780,118500,121310,126610,130195,132230,134810,140042,142710,146195,148620,150090,153110,158035,159760,161470,165340,166645,168615,170680,172855,174895,177880,180270,183140,186615,188760,191580,194080,195630],"end":[2080,5035,8050,9460,11710,14785,17740,20905,22090,24970,26790,29920,31420,35995,37570,39890,42010,43930,45850,46870,49170,53660,55630,59080,60935,63370,66680,72430,75440,77870,81320,85820,87520,91410,92750,94835,97340,101240,103100,107050,112275,114320,116780,118500,121310,126610,130195,132230,134810,140042,142710,146195,148620,150090,153110,158035,159760,161470,165340,166645,168615,170680,172855,174895,177880,180270,183140,186615,188760,191580,194080,195630,198590],"text":[">> In this video, we look at how to","integrate Azure functions with Azure Cosmos DB.","With Azure functions, you can have code execute on","demand without having to","provision or manage infrastructure.","And functions can execute on triggers","like for example when you have a message in a queue,","or when you have a web hook that's execute.","You can also have","a code execute automatically when there are","changes made to an Azure Cosmos DB account","with the support for Cosmos DB triggers.","So let's take a look at","a simple Cosmos DB trigger on functions.","So, in any function definition,","you have triggers, inputs and outputs.","So, I'll have a simple function","here that all it's going to do","is write output to","the console when there are","changes in the Cosmos DB account.","So, this case, I have a few settings.","The settings are in","this case the end point of my Cosmos DB account.","So this says my account and key,","and the database name that is being","monitored and the collection name within that database.","You can also specify an optional leases collection","which the Azure function's service will use for","bookkeeping and progress tracking","of changes within the container.","You can track changes here every time.","This was triggered on an update to","the Cosmos DB documents within that container.","So let me switch over to","the actual account that's being monitored.","Here you can see I have items,","and I have the leases collection as well and","the leases collection has","many data that is managed by the function service.","In here let me take one of these items like in this case,","let me take one of these items","and I make some changes to it.","I'll click update.","And this should cause Azure functions to","trigger and execute our function.","Let's take a look at the function code.","So here you can see there is","a reference to the document DB client execute,","and it takes an array","of input documents as an argument and you","can perform any kind of processing on these changes.","So all we do right here is we write the number","of documents as well as","the idea of the first document to the console.","So let's see if our function has triggered just yet.","I see it was triggered a","few seconds ago and you can see this","was the change to test file that we just made.","So in this example,","we just wrote to the console but","you can write more complex data","flows where you're computing","streaming aggregates within functions,","or if you want to make a live copy of your data to","another storage system like lobster ledger or","even another Cosmos DB account,","you can configure that easily with a few lines of code.","So in this video, we looked at","integrating Azure functions and Cosmos DB,","in particular how you can trigger","Azure functions based on changes","to Azure cosmos DB items."]}