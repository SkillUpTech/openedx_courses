{"start":[70,3180,4550,7070,11418,12776,16270,19611,21740,23300,26110,29060,34455,36770,40149,46089,49170,52960,54231,59940,63900,67900,70088,72800,74440,75855,81613,88155,95615,99035,100470,102600,104470,107180,109640,111485,114065,121677,126925,132360,136280,140000,145811,147310,156420,158630,162150,167684,171360,176370,180580,186168,190650,192655,196120,198330,201290,207355,212213,214995,217920,219722,225505,231769,233836,236495,241810,245148,247715,251045,256235,260585,264080,266565,271035,275035,278685,282990,286315,289540,292805,300685,305165,307300,309745,313800,315890,317980,327560,330500,333920,341050,347455,349433,356125,357885,359250,360955,365520,369260,372650,374780,377000,379120,383167],"end":[3180,4550,7070,11418,12776,16270,19611,21740,23300,26110,29060,34455,36770,40149,46089,49170,52960,54231,59940,63900,67900,70088,72800,74440,75855,81613,88155,95615,99035,100470,102600,104470,107180,109640,111485,114065,121677,126925,132360,136280,140000,145811,147310,156420,158630,162150,167684,171360,176370,180580,186168,190650,192655,196120,198330,201290,207355,212213,214995,217920,219722,225505,231769,233836,236495,241810,245148,247715,251045,256235,260585,264080,266565,271035,275035,278685,282990,286315,289540,292805,300685,305165,307300,309745,313800,315890,317980,327560,330500,333920,341050,347455,349433,356125,357885,359250,360955,365520,369260,372650,374780,377000,379120,383167,392030],"text":["Hello. For this video,","we'll be working on migrating","an application from local Mongo DB to","Azure Cosmos DB with Mongo DB API support.","For this video, we've chosen","a sample GitHub project to showcase the migration.","The sample project we've chosen in Scotch-IO,","which is built on the MEAN stack,","which is Mongo DB,","Express, Angular, and Node.","I've already downloaded this project and so first,","we'll get this running locally.","So, the first thing that we'll do is we'll","run Mongo locally, here we go,","and then we will begin our node application.","We'll do an NPM install just to make sure that we","have all the dependencies.","Looks like we already do.","And then we'll do an NPM start to begin the application.","It's listening on port 3000, and so we'll go here,","refresh the page, and as you can see,","this application is running against our local Mongo DB,","and it already has five data points.","Just to show it is running,","we'll add one more data point.","So, age, 46, gender, male,","Andrew, English,","and we'll put a data point in Texas.","There we go,","now we've added another datapoint","into our Mongo DB database.","So, a migration from","local Mongo DB to Azure Cosmos DB is two front.","First is changing the application code.","Next is to migrate the data.","And so first, change the application code,","we'll go over and stop our Node application.","Next, I'll open this file directory and we'll","change the config so that this can use Azure Cosmos DB.","So, in our config,","I'll add a Cosmos DB,","name, Cosmos DB, URL,","which I'll get from the portal.","I'm navigating over to Azure Cosmos DB, into","a database I have,","then to the Quick start, and copy over","the Node.JS connection string.","Next, you do have to note that this","is running to the MeanMapApp database,","and so add this into my connection string as well.","There we go.","And then I'll add the port,","which is 10255,","and that can also be found within the Azure portal.","I'll save that, and next,","we'll change the server code,","server.js, and then from here,","we'll use our Cosmos DB, that URL.","Okay. And then next,","we would like to see this application","run against Cosmos DB,","and so I'll shut off my Mongo DB local database screen,","and then I'll restart my Node application.","It's listening to port 3000.","I'll go back to my browser,","refresh the page, and then as you can see,","we don't have any data points in this database as of yet.","So, next step is to import the data","from my local database into Azure Cosmos DB.","So I'll head over to my command prompt.","I'll begin another one as well.","And so, for this command prompt,","I'll start my local Mongo DB database,","and for this one, I'll write a simple export,","take it from localhost.","The DB is MeanMapApp,","the collection is scotch-users,","which can be found in the application code.","Now, I'll put it to scotch.json.","And so, it's exported all six records.","Now, I can actually do a Mongo import","to my anhoh-mongo.documents.azure.com,","port 10255,","and this can be found within the Azure portal.","The user name, which is anhoh-mongo, the password,","which is much harder to memorize,","we can pull this back here,","at connection string, copy it, paste it here.","And then I'll be adding it to my DB,","which is MeanMapApp, the collection,","which is scotch-users, SSL enabled,","and we'll, for demo purposes, allow invalid certificates.","The type of the file is json,","and the file is scotch.json,","and it's imported the documents.","And just to make sure that we're not","connected to the local database,","I'll also shut down my local instance,","and we'll head back to our location.","I'll refresh it, and you'll be able to","see all the new data points","that were in my local instance.","And just to prove that this is working,","I'll add another data point in Illinois.","Male, EDX, 24, say French, and I'll submit. Perfect."]}